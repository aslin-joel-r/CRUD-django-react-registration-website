<!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex; /* Set display to flex */
            justify-content: center; /* Horizontally center the content */
            align-items: center; /* Vertically center the content */
        }
        div {
            margin-top: 50px;
            padding: 20px;
            text-align: center; /* Center align the content */
            box-shadow: 5px 5px 60px 10px rgb(144, 5, 144);
            border-radius: 20px;
        }
        fieldset {
            position: relative;
            left: 0;
            margin: auto;
            padding-top: 0;
            width: 80%;
            border-radius: 15px;
            border: 2px solid purple;
        }
        input[type='text'],
        input[type="email"],
        input[type='tel'],
        textarea {
            width: 100%;
            outline: none;
            border: none;
            font-size: 15px;
            font-family: monospace;
        }
        input[type='radio']{
            text-align: left;
        }
        form {
            position: relative;
            left: 0;
            margin: auto;
        }
        legend {
            font-size: 20px;
            font-weight: bold;
            color: rgb(188, 6, 133);
        }
        label{
            color: purple;
        }
        #roles,#celebrity{
            text-align: left;
            margin-left: 40px;
        }
        button{
            padding: 6px;
            border-radius: 10px;
            background-color: purple;
            color: white;
            font-size: 15px;
            cursor: pointer;
            width: 70px;
        }
    </style>
</head>
<body>

<div>
    <h1>Welcome to Gala Fest</h1>
    <form method="post">
        {% csrf_token %}
        <fieldset>
            <legend>Name</legend>
            <input type="text" name="username" id="name" placeholder="Your Name ...." required><br>
        </fieldset>
        <fieldset>
            <legend>E-mail</legend>
            <input type="email" name="email"  id="mail"><br>
        </fieldset>
        <fieldset>
            <legend>Phone No</legend>
            <input type="tel" placeholder="Enter only numbers !" pattern="[0-9]*" name="phone" id="phone" maxlength="10" required><br>
        </fieldset>
        <fieldset>
            <legend>Role</legend>
            <section id="roles">
                <input type="radio" name="role" id="student" value="student" required>
                <label  for="student">Students</label><br>
                <input type="radio" name="role" value="staff" id="staff">
                <label for="staff">Staff</label><br>
                <input value="admin" type="radio" name="role" id="admin">
                <label for="admin">Admin</label><br>
            </section>
        </fieldset>
        <fieldset>
            <legend>Comments</legend>
            <textarea placeholder="Type your Thoughts" name="comments" id="comments" cols="40" rows="5"></textarea>
        </fieldset>
        <fieldset>
            <legend>Interested celebrities</legend>
            <section id="celebrity">
                <input value="Abdul Kalam" type="checkbox" name="celebrities" id="ak">
                <label for="ak">Abdul Kalam</label><br>
                <input value="kamarajar"  type="checkbox" name="celebrities" id="kr">
                <label for="kr">Kama Rajar</label><br>
                <input value="nikola tesla"  type="checkbox" name="celebrities" id="nt">
                <label for="nt">Nikola Tesla</label><br>
                <input value="others" type="checkbox" name="celebrities" id="others">
                <label for="others">Others</label><br>
            </section>
        </fieldset><br>
        <button class="btn-primary">Submit</button>
    </form>
</div>

<script>
    const form = document.querySelector('form');
    const checkboxes = document.querySelectorAll('input[type="checkbox"]');

    form.addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent default form submission behavior
        
        // Default browser validation for name, email, and radio buttons
        if (!this.checkValidity()) {
            return;
        }

        const name = document.getElementById('name').value.trim();
        const phone = document.getElementById('phone').value.trim();
        const role = document.querySelector('input[name="role"]:checked');
        const checkedBoxes = Array.from(checkboxes).filter(checkbox => checkbox.checked);
        
        let errorMessage = '';

        if (checkedBoxes.length === 0) {
            errorMessage += 'Please select at least one celebrity.';
        }

        if (errorMessage !== '') {
            alert(errorMessage);
        } else {
            this.submit();
        }
    });
</script>
</body>
</html>
